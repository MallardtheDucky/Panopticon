<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISB Secure Terminal | Director Krask</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body {
            background-color: #020617;
            margin: 0;
            overflow: hidden;
        }
        
        /* Custom Animations and Utilities */
        @keyframes pulse-slow {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .animate-pulse-slow {
            animation: pulse-slow 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes scan {
            0% { top: 0; opacity: 0; }
            5% { opacity: 1; }
            95% { opacity: 1; }
            100% { top: 100%; opacity: 0; }
        }
        .animate-scan {
            animation: scan 1.5s ease-in-out infinite;
        }

        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow {
            animation: spin-slow 12s linear infinite;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }

        @keyframes loading {
            0% { width: 0%; }
            100% { width: 100%; }
        }
        .animate-loading-bar {
            animation: loading 1.5s ease-out;
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #020617; 
        }
        ::-webkit-scrollbar-thumb {
            background: #334155; 
            border-radius: 0;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569; 
        }

        /* Terminal Font */
        .font-mono {
            font-family: 'Courier New', Courier, monospace;
        }
        
        .crt-overlay {
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // --- Icon Components (SVG) ---
        // Using simple SVG components to ensure portability
        const IconShield = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
        );
        const IconEye = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
        );
        const IconLock = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
        );
        const IconFileText = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><line x1="10" x2="8" y1="9" y2="9"/></svg>
        );
        const IconActivity = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
        );
        const IconGlobe = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><line x1="2" x2="22" y1="12" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1 4-10z"/></svg>
        );
        const IconUsers = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
        );
        const IconCpu = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="16" height="16" x="4" y="4" rx="2"/><rect width="6" height="6" x="9" y="9" rx="1"/><path d="M15 2v2"/><path d="M15 20v2"/><path d="M2 15h2"/><path d="M2 9h2"/><path d="M20 15h2"/><path d="M20 9h2"/><path d="M9 2v2"/><path d="M9 20v2"/></svg>
        );
        const IconFingerprint = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 6"/><path d="M5 15.1A2 2 0 0 1 9.88 13a2.5 2.5 0 0 0 5 0 2 2 0 0 1 4.88 2.1"/><path d="M12 2a8 8 0 0 0-7.1 12"/><path d="M16 11.9a3 3 0 0 0-6 0v.1"/><path d="M9 19.8V22"/><path d="M15 19.8V22"/><path d="M12 22v-6.9a4 4 0 0 0-3.8-4.2"/></svg>
        );
        const IconAlert = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" x2="12" y1="9" y2="13"/><line x1="12" x2="12.01" y1="17" y2="17"/></svg>
        );
        const IconChevronRight = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m9 18 6-6-6-6"/></svg>
        );
        const IconRadio = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M4.9 19.1C1 15.2 1 8.8 4.9 4.9"/><path d="M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5"/><circle cx="12" cy="12" r="2"/><path d="M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5"/><path d="M19.1 4.9C23 8.8 23 15.1 19.1 19.1"/></svg>
        );
        const IconNetwork = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect x="16" y="16" width="6" height="6" rx="1"/><rect x="2" y="16" width="6" height="6" rx="1"/><rect x="9" y="2" width="6" height="6" rx="1"/><path d="M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3"/><path d="M12 12V8"/></svg>
        );
        const IconMap = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21"/><line x1="9" x2="9" y1="3" y2="18"/><line x1="15" x2="15" y1="6" y2="21"/></svg>
        );
        const IconDatabase = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M3 5V19A9 3 0 0 0 21 19V5"/><path d="M3 12A9 3 0 0 0 21 12"/></svg>
        );

        // --- Data ---
        const SECTIONS = {
          DASHBOARD: 'dashboard',
          PANOPTICON: 'panopticon',
          TARGET_SELECTION: 'target_selection',
          ARCHITECTURE: 'architecture',
          TARGET_HOK: 'target_hok',
          PERSONNEL: 'personnel',
          ALGORITHMS: 'algorithms',
          LOGS: 'logs'
        };

        const CANDIDATES = [
          {
            id: 'BRENTAAL',
            name: "Brentaal IV",
            type: "Core World",
            status: "REJECTED",
            reason: "High Visibility. Strategic intersection of Hydian Way/Perlemian Trade Route. Failure would be catastrophic and publicly visible to Core elite.",
            risk: "Critical"
          },
          {
            id: 'COLUMEX',
            name: "Columex",
            type: "Core World",
            status: "REJECTED",
            reason: "Redundant. Population is historically conservative and wealthy. Already compliant. Implementation would not demonstrate system efficacy against unrest.",
            risk: "Low (Ineffective)"
          },
          {
            id: 'HOK',
            name: "Hok",
            type: "Mid Rim / Oversector 4",
            status: "SELECTED",
            reason: "Ideal Testbed. 18M population. Mixed economy (Industrial/Mining). History of labor unrest. Isolated enough to contain failure, significant enough to prove success.",
            risk: "Optimal"
          }
        ];

        const ARCHITECTURE_LAYERS = [
            {
                layer: "01 // COLLECTION",
                desc: "Ubiquitous Data Ingestion",
                components: ["CCTV Feeds", "Comms Intercepts", "Financial Streams", "Medical Records", "Transit Manifests", "Education Transcripts"],
                color: "text-slate-400"
            },
            {
                layer: "02 // ANALYSIS",
                desc: "Algorithmic Processing",
                components: ["Pattern Recognition", "Anomaly Detection", "Social Graphing", "Predictive Modeling", "Sentiment Analysis"],
                color: "text-emerald-400"
            },
            {
                layer: "03 // INTERVENTION",
                desc: "Graduated Pressure Protocols",
                components: ["Credit Restriction", "Employment Instability", "Social Isolation", "Bureaucratic Friction", "Preventive Detention"],
                color: "text-red-400"
            }
        ];

        const PHASES = [
          {
            id: 1,
            title: "Phase I: Foundation & Integration",
            duration: "Months 1-6",
            status: "Active",
            details: [
              "Establishment of operational headquarters on Hok.",
              "Comprehensive assessment of existing security infrastructure.",
              "Data Integration: Unification of separate streams (Comms, Finance, Medical, Transit).",
              "Surveillance Gap Analysis & Installation.",
              "Justification: 'Routine security upgrades due to labor unrest'."
            ]
          },
          {
            id: 2,
            title: "Phase II: Predictive Intervention",
            duration: "Months 7-12",
            status: "Pending",
            details: [
              "Activation of Algorithmic Analysis Systems.",
              "Identification of behavioral deviations and 'Pre-Crime' patterns.",
              "Implementation of 'Graduated Pressure' protocols.",
              "Interventions: Credit restriction, employment instability, social isolation.",
              "Target: 3 significant security incidents prevented via prediction."
            ]
          },
          {
            id: 3,
            title: "Phase III: Behavioral Conditioning",
            duration: "Months 13-24",
            status: "Locked",
            details: [
              "Systematic integration of consequence/reward systems into all societal layers.",
              "Implicit Social Credit System implementation.",
              "Psychological enforcement: Making dissent 'psychologically aversive'.",
              "Full population coverage.",
              "Outcome: Internalized compliance."
            ]
          }
        ];

        const HOK_DATA = {
          name: "Hok",
          sector: "Oversector Four",
          population: "18,420,000",
          economy: "Industrial / Mineral Extraction",
          governance: "Grand Moff Garrik Kessler (Reformer)",
          risk_factors: [
            "Growing Labor Unrest (Mining Guilds)",
            "Political Volatility",
            "Historical Independence",
            "Proximity to Hyperlanes"
          ]
        };

        const CITIZEN_MOCKUPS = [
          {
            id: "HOK-8921-A",
            name: "Jarek Vane",
            occupation: "Shift Supervisor, Refinery 4",
            risk_score: 72,
            status: "Flagged",
            anomalies: [
              "Irregular transit patterns (0300h)",
              "Unexplained credit transfer (200c)",
              "Linguistic markers: 'Freedom', 'Empire's end'",
              "Pulse rate elevation during HoloNet news"
            ],
            intervention: "Recalibrate credit rating (-150 pts). Delay promotion."
          },
          {
            id: "HOK-1102-C",
            name: "Lysa Drom",
            occupation: "Cargo Pilot",
            risk_score: 24,
            status: "Compliant",
            anomalies: ["None"],
            intervention: "None. Sustain positive reinforcement."
          },
          {
            id: "HOK-3391-X",
            name: "Tannor Krel",
            occupation: "University Lecturer",
            risk_score: 88,
            status: "High Risk",
            anomalies: [
              "Historical text access (Republic Era)",
              "Social graph node for 3 known dissidents",
              "Suppressed communication frequencies"
            ],
            intervention: "Immediate academic funding review. Initiate social isolation protocol."
          }
        ];

        // --- Components ---

        const LoginScreen = ({ onLogin }) => {
          const [scan, setScan] = React.useState(false);
          const [access, setAccess] = React.useState(false);

          const handleScan = () => {
            setScan(true);
            setTimeout(() => {
              setAccess(true);
              setTimeout(onLogin, 1500);
            }, 2000);
          };

          return (
            <div className="min-h-screen bg-slate-950 flex flex-col items-center justify-center font-mono text-slate-200 relative overflow-hidden selection:bg-red-900 selection:text-white">
              <div className="absolute inset-0 bg-[linear-gradient(to_right,#1e293b_1px,transparent_1px),linear-gradient(to_bottom,#1e293b_1px,transparent_1px)] bg-[size:4rem_4rem] opacity-20 pointer-events-none"></div>
              
              <div className="z-10 w-full max-w-md p-8 border border-slate-700 bg-slate-900/90 backdrop-blur shadow-2xl relative">
                <div className="absolute -top-1 -left-1 w-4 h-4 border-t-2 border-l-2 border-white/50"></div>
                <div className="absolute -top-1 -right-1 w-4 h-4 border-t-2 border-r-2 border-white/50"></div>
                <div className="absolute -bottom-1 -left-1 w-4 h-4 border-b-2 border-l-2 border-white/50"></div>
                <div className="absolute -bottom-1 -right-1 w-4 h-4 border-b-2 border-r-2 border-white/50"></div>

                <div className="flex flex-col items-center mb-8">
                  <div className="w-24 h-24 mb-6 border-2 border-white rounded-full flex items-center justify-center relative animate-pulse-slow">
                     <IconGlobe size={48} className="text-white" />
                     <div className="absolute inset-0 border border-slate-500 rounded-full scale-110 opacity-30"></div>
                  </div>
                  <h1 className="text-xl tracking-[0.2em] font-bold text-center uppercase">Imperial Security Bureau</h1>
                  <p className="text-xs text-slate-500 tracking-widest mt-2 uppercase">Central Administrative Network</p>
                </div>

                <div className="space-y-6">
                  <div className="border-b border-slate-700 pb-2">
                    <p className="text-xs text-slate-400 uppercase mb-1">Terminal ID</p>
                    <p className="text-sm font-bold tracking-widest">ISB-COR-204-VK</p>
                  </div>

                  <div className="h-32 flex flex-col items-center justify-center border border-slate-800 bg-slate-950 relative overflow-hidden cursor-pointer hover:border-slate-600 transition-colors" onClick={handleScan}>
                    {!scan && (
                      <div className="flex flex-col items-center text-slate-500 animate-pulse">
                        <IconFingerprint size={32} className="mb-2" />
                        <span className="text-xs tracking-widest uppercase">Touch to Authenticate</span>
                      </div>
                    )}
                    {scan && !access && (
                      <div className="w-full h-full flex items-center justify-center relative">
                         <div className="absolute w-full h-1 bg-red-500/50 top-0 animate-scan"></div>
                         <span className="text-xs text-red-400 tracking-widest uppercase animate-pulse">Scanning...</span>
                      </div>
                    )}
                    {access && (
                       <div className="flex flex-col items-center text-emerald-400">
                         <IconShield size={32} className="mb-2" />
                         <span className="text-xs tracking-widest uppercase">Identity Verified</span>
                         <span className="text-[10px] mt-1 text-slate-400">Welcome, Director Krask</span>
                       </div>
                    )}
                  </div>
                </div>
              </div>
              
              <div className="absolute bottom-8 text-[10px] text-slate-600 uppercase tracking-widest">
                Unauthorized access is punishable by immediate incarceration
              </div>
            </div>
          );
        };

        const DashboardContent = () => (
          <div className="space-y-8 animate-fade-in">
            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
              <div className="p-6 border border-slate-800 bg-slate-900/50">
                <div className="text-xs text-slate-500 uppercase tracking-widest mb-2">Project Panopticon Status</div>
                <div className="text-3xl font-bold text-emerald-400 mb-1">PHASE I</div>
                <div className="text-xs text-emerald-500/70 uppercase">Infrastructure & Acquisition</div>
                <div className="w-full bg-slate-800 h-1 mt-4">
                  <div className="bg-emerald-500 h-1 w-[24%]"></div>
                </div>
              </div>
              <div className="p-6 border border-slate-800 bg-slate-900/50">
                <div className="text-xs text-slate-500 uppercase tracking-widest mb-2">Target Population (Hok)</div>
                <div className="text-3xl font-bold text-white mb-1">18,420,102</div>
                <div className="text-xs text-slate-400 uppercase">Live Tracking: 12.4%</div>
              </div>
              <div className="p-6 border border-slate-800 bg-slate-900/50">
                <div className="text-xs text-slate-500 uppercase tracking-widest mb-2">Threat Index</div>
                <div className="text-3xl font-bold text-amber-500 mb-1">ELEVATED</div>
                <div className="text-xs text-amber-500/70 uppercase">Labor Agitation Detected</div>
              </div>
            </div>

            <div className="border border-slate-800 bg-slate-900/30 p-8">
              <h3 className="text-lg font-bold text-white mb-6 uppercase tracking-widest border-b border-slate-800 pb-2">Director's Daily Briefing</h3>
              <div className="space-y-4 text-sm text-slate-300 font-light leading-relaxed">
                <p>
                  <strong className="text-white">0547 HRS:</strong> Routine intelligence review completed. Kessel Revolution remains a festering wound, but contained. New Republic activity in expansion sectors shows standard variance.
                </p>
                <p>
                  <strong className="text-white">0630 HRS:</strong> Meeting with Deputy Director Marus confirmed. Operational Charter for the <span className="text-red-400">Comprehensive Social Equilibrium Initiative</span> finalized. Marus's hesitation was noted but deemed manageable.
                </p>
                 <p>
                  <strong className="text-white">0715 HRS:</strong> Deputy Director Kovel has assumed Marus's former portfolios (Expansion Region network disruption). Transition proceeding smoothly.
                </p>
                 <p>
                  <strong className="text-white">NOTE:</strong> Marus's family (Wife, 2 children) remains a critical leverage point should his "moral calculus" waver during Phase I implementation.
                </p>
              </div>
            </div>
          </div>
        );

        const PanopticonContent = () => (
          <div className="space-y-8 animate-fade-in">
            <div className="border border-red-900/30 bg-red-950/10 p-6 flex items-start gap-4">
              <IconAlert className="text-red-500 flex-shrink-0" />
              <div>
                <h3 className="text-red-500 font-bold uppercase tracking-widest mb-2">Clearance Verification Required</h3>
                <p className="text-sm text-slate-400">This document contains sensitive material regarding the "Comprehensive Social Equilibrium Initiative". Dissemination outside the restricted access list (Tier 10 - Only 11 Individuals Cleared) is treason.</p>
              </div>
            </div>

            <div className="space-y-12">
              <section>
                <h2 className="text-2xl font-bold text-white mb-6 uppercase tracking-widest">Core Principle</h2>
                <p className="text-slate-300 leading-relaxed max-w-3xl border-l-2 border-white pl-6 italic">
                  "The post-Endor Empire is failing because we have neither democratic legitimacy nor singular authority. We need a third option: <span className="text-white font-bold">systematic inevitability</span>. Make compliance so seamlessly integrated into daily existence that resistance becomes not just dangerous but nearly inconceivable."
                  <br/><span className="text-slate-500 not-italic text-xs block mt-2">- Director Valen Krask</span>
                </p>
              </section>

              <section>
                <h2 className="text-2xl font-bold text-white mb-6 uppercase tracking-widest">Implementation Matrix</h2>
                <div className="grid gap-6">
                  {PHASES.map((phase) => (
                    <div key={phase.id} className={`p-6 border ${phase.status === 'Active' ? 'border-emerald-500/50 bg-emerald-950/5' : phase.status === 'Locked' ? 'border-slate-800 bg-slate-900/50 opacity-60' : 'border-slate-700 bg-slate-900/30'}`}>
                      <div className="flex justify-between items-start mb-4">
                        <div>
                          <h3 className="text-lg font-bold text-white uppercase">{phase.title}</h3>
                          <span className="text-xs text-slate-500 uppercase tracking-widest">{phase.duration}</span>
                        </div>
                        <span className={`px-2 py-1 text-[10px] uppercase tracking-widest border ${
                          phase.status === 'Active' ? 'border-emerald-500 text-emerald-500' :
                          phase.status === 'Locked' ? 'border-slate-600 text-slate-600' :
                          'border-amber-500 text-amber-500'
                        }`}>
                          {phase.status}
                        </span>
                      </div>
                      <ul className="space-y-2">
                        {phase.details.map((detail, idx) => (
                          <li key={idx} className="text-sm text-slate-400 flex items-start gap-2">
                            <IconChevronRight size={14} className="mt-0.5 flex-shrink-0 text-slate-600" />
                            {detail}
                          </li>
                        ))}
                      </ul>
                    </div>
                  ))}
                </div>
              </section>
            </div>
          </div>
        );

        const TargetSelectionContent = () => (
             <div className="space-y-8 animate-fade-in">
                <h2 className="text-2xl font-bold text-white mb-6 uppercase tracking-widest">Target Selection Analysis</h2>
                <p className="text-sm text-slate-400 mb-6">Evaluation of candidate worlds for Pilot Program implementation.</p>

                <div className="grid gap-6">
                    {CANDIDATES.map((cand) => (
                        <div key={cand.id} className={`p-6 border ${cand.status === 'SELECTED' ? 'border-emerald-500 bg-emerald-900/10' : 'border-red-900/30 bg-slate-900/30 opacity-75'}`}>
                            <div className="flex justify-between items-center mb-2">
                                <h3 className="text-lg font-bold text-white uppercase">{cand.name}</h3>
                                <span className={`text-[10px] font-bold px-2 py-1 uppercase tracking-widest ${cand.status === 'SELECTED' ? 'bg-emerald-500 text-black' : 'bg-red-900/50 text-red-200'}`}>
                                    {cand.status}
                                </span>
                            </div>
                            <div className="text-xs text-slate-500 uppercase mb-4">{cand.type}</div>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                                <div>
                                    <span className="text-slate-500 text-xs uppercase block mb-1">Reasoning</span>
                                    <p className="text-slate-300">{cand.reason}</p>
                                </div>
                                <div>
                                    <span className="text-slate-500 text-xs uppercase block mb-1">Risk Assessment</span>
                                    <p className={`${cand.status === 'SELECTED' ? 'text-emerald-400' : 'text-red-400'}`}>{cand.risk}</p>
                                </div>
                            </div>
                        </div>
                    ))}
                </div>
             </div>
        );

        const ArchitectureContent = () => (
             <div className="space-y-8 animate-fade-in">
                <h2 className="text-2xl font-bold text-white mb-6 uppercase tracking-widest">System Architecture</h2>
                <div className="space-y-4">
                    {ARCHITECTURE_LAYERS.map((layer, idx) => (
                        <div key={idx} className="group relative">
                             {/* Connector Line */}
                             {idx !== ARCHITECTURE_LAYERS.length -1 && (
                                <div className="absolute left-8 top-16 bottom-[-20px] w-0.5 bg-slate-800 z-0"></div>
                             )}
                             
                             <div className="relative z-10 border border-slate-700 bg-slate-900 p-6 flex gap-6 items-start hover:border-slate-500 transition-colors">
                                <div className={`text-xl font-bold font-mono ${layer.color} w-48 flex-shrink-0`}>{layer.layer}</div>
                                <div className="flex-1">
                                    <h3 className="text-lg font-bold text-white uppercase mb-1">{layer.desc}</h3>
                                    <div className="flex flex-wrap gap-2 mt-3">
                                        {layer.components.map((comp, i) => (
                                            <span key={i} className="text-[10px] bg-slate-800 text-slate-300 px-2 py-1 uppercase tracking-wider border border-slate-700">
                                                {comp}
                                            </span>
                                        ))}
                                    </div>
                                </div>
                             </div>
                        </div>
                    ))}
                </div>
                
                <div className="mt-8 p-6 border border-slate-800 bg-slate-900/50">
                    <h3 className="text-sm font-bold text-white uppercase tracking-widest mb-2">Technical Note: False Positives</h3>
                    <p className="text-xs text-slate-400 leading-relaxed">
                        "Expected false positive rate: 10-20% at intervention stage. This is acceptable. The uncertainty creates generalized caution. If citizens know unusual behavior might attract attention, they tend toward conformity. The false positives are a feature, not a bug."
                    </p>
                </div>
             </div>
        );

        const HokContent = () => (
          <div className="space-y-8 animate-fade-in">
            <div className="flex flex-col md:flex-row gap-8">
              <div className="w-full md:w-1/2 aspect-square border border-slate-700 bg-slate-900 relative p-4 flex items-center justify-center overflow-hidden">
                <div className="w-48 h-48 rounded-full border border-slate-600 flex items-center justify-center relative shadow-[0_0_50px_rgba(255,255,255,0.05)]">
                   <div className="absolute inset-0 rounded-full border-t border-slate-500 animate-spin-slow"></div>
                   <div className="absolute inset-4 rounded-full border border-slate-800 bg-slate-950 flex items-center justify-center">
                     <div className="grid grid-cols-6 grid-rows-6 gap-1 opacity-20 w-32 h-32">
                        {[...Array(36)].map((_, i) => <div key={i} className="bg-emerald-500 rounded-sm"></div>)}
                     </div>
                   </div>
                   <div className="absolute top-10 right-10 w-2 h-2 bg-red-500 animate-pulse"></div>
                   <div className="absolute bottom-12 left-14 w-2 h-2 bg-amber-500"></div>
                </div>
                <div className="absolute top-4 left-4 text-xs font-mono text-emerald-500">
                  SCANNING SECTOR 4...<br/>
                  DATA STREAMS: CONNECTED
                </div>
              </div>

              <div className="w-full md:w-1/2 space-y-6">
                <h2 className="text-3xl font-bold text-white uppercase tracking-widest">{HOK_DATA.name}</h2>
                
                <div className="space-y-4">
                  <div className="flex justify-between border-b border-slate-800 pb-2">
                    <span className="text-slate-500 text-sm uppercase">Sector</span>
                    <span className="text-white text-sm">{HOK_DATA.sector}</span>
                  </div>
                  <div className="flex justify-between border-b border-slate-800 pb-2">
                    <span className="text-slate-500 text-sm uppercase">Population</span>
                    <span className="text-white text-sm">{HOK_DATA.population}</span>
                  </div>
                  <div className="flex justify-between border-b border-slate-800 pb-2">
                    <span className="text-slate-500 text-sm uppercase">Economy</span>
                    <span className="text-white text-sm">{HOK_DATA.economy}</span>
                  </div>
                  <div className="flex justify-between border-b border-slate-800 pb-2">
                    <span className="text-slate-500 text-sm uppercase">Jurisdiction</span>
                    <span className="text-white text-sm">{HOK_DATA.governance}</span>
                  </div>
                </div>

                <div className="mt-6">
                  <h3 className="text-sm font-bold text-red-500 uppercase tracking-widest mb-4 flex items-center gap-2">
                    <IconAlert size={14} /> Identified Risk Factors
                  </h3>
                  <ul className="space-y-2">
                    {HOK_DATA.risk_factors.map((risk, i) => (
                      <li key={i} className="bg-red-950/20 border border-red-900/30 p-2 text-xs text-red-200">
                        {risk}
                      </li>
                    ))}
                  </ul>
                </div>
              </div>
            </div>

            <div className="border-t border-slate-800 pt-8">
              <h3 className="text-lg font-bold text-white mb-4 uppercase tracking-widest">Political Obstacle Assessment</h3>
              <div className="bg-slate-900 p-6 border border-slate-700">
                <div className="flex items-center gap-4 mb-4">
                  <div className="w-12 h-12 bg-slate-800 rounded flex items-center justify-center text-slate-500 font-bold">IMG</div>
                  <div>
                    <div className="font-bold text-white">Grand Moff Garrik Kessler</div>
                    <div className="text-xs text-slate-500">"The Reformer"</div>
                  </div>
                </div>
                <p className="text-sm text-slate-300 mb-4">
                  Kessler argues for "trust-based governance" and reduced security presence. He is a primary obstacle to ISB expansion in Oversector Four.
                </p>
                <div className="text-sm text-white font-bold border-l-2 border-emerald-500 pl-4">
                  STRATEGY: Frame Phase I as targeted support for labor unrest. Provide empirical evidence of security efficacy to discredit his reformist position before the Ruling Council.
                </div>
              </div>
            </div>
          </div>
        );

        const AlgorithmsContent = () => (
          <div className="space-y-6 animate-fade-in">
            <div className="flex items-center justify-between mb-6">
               <h2 className="text-2xl font-bold text-white uppercase tracking-widest">Predictive Intervention Simulation</h2>
               <div className="flex items-center gap-2 text-xs text-emerald-500 animate-pulse">
                 <IconActivity size={14} />
                 LIVE FEED MOCKUP
               </div>
            </div>

            <div className="flex gap-4 mb-4">
                {["FINANCE", "MEDICAL", "TRANSIT", "COMMS"].map(stream => (
                    <div key={stream} className="px-3 py-1 bg-slate-800 border border-slate-700 text-[10px] text-emerald-400 uppercase tracking-wider flex items-center gap-2">
                        <div className="w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"></div>
                        {stream} STREAM ACTIVE
                    </div>
                ))}
            </div>

            <div className="bg-slate-900 border border-slate-700 overflow-hidden">
              <div className="grid grid-cols-12 text-[10px] uppercase tracking-widest text-slate-500 border-b border-slate-700 bg-slate-950 p-2">
                <div className="col-span-2">ID</div>
                <div className="col-span-3">Subject</div>
                <div className="col-span-2">Risk Score</div>
                <div className="col-span-5">System Action</div>
              </div>
              
              {CITIZEN_MOCKUPS.map((citizen) => (
                <div key={citizen.id} className="grid grid-cols-12 text-xs border-b border-slate-800 p-3 items-center hover:bg-slate-800/30 transition-colors">
                  <div className="col-span-2 font-mono text-slate-400">{citizen.id}</div>
                  <div className="col-span-3">
                    <div className="text-white font-bold">{citizen.name}</div>
                    <div className="text-[10px] text-slate-500">{citizen.occupation}</div>
                  </div>
                  <div className="col-span-2">
                    <div className={`text-lg font-bold font-mono ${
                      citizen.risk_score > 80 ? 'text-red-500' :
                      citizen.risk_score > 50 ? 'text-amber-500' : 'text-emerald-500'
                    }`}>
                      {citizen.risk_score}
                    </div>
                  </div>
                  <div className="col-span-5">
                    <div className="text-[10px] text-slate-300 mb-1">{citizen.intervention}</div>
                    {citizen.anomalies.length > 0 && citizen.risk_score > 20 && (
                      <div className="flex flex-wrap gap-1">
                         {citizen.anomalies.slice(0, 1).map((a, i) => (
                           <span key={i} className="px-1 py-0.5 bg-slate-800 text-[9px] text-slate-400 border border-slate-700">{a}</span>
                         ))}
                         <span className="text-[9px] text-slate-600 italic">+ {citizen.anomalies.length - 1} more</span>
                      </div>
                    )}
                  </div>
                </div>
              ))}
            </div>

            <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
              <div className="border border-slate-800 p-6 bg-slate-900/50">
                <h3 className="text-sm font-bold text-white uppercase tracking-widest mb-4">False Positive Utility</h3>
                <p className="text-sm text-slate-400 italic">
                  "If the system occasionally targets people who aren't actually threats, everyone has to worry that they might be flagged... That creates generalized caution. The false positives are a feature, not a bug."
                </p>
              </div>
              <div className="border border-slate-800 p-6 bg-slate-900/50">
                <h3 className="text-sm font-bold text-white uppercase tracking-widest mb-4">System Logic</h3>
                <div className="space-y-2 text-xs font-mono text-slate-300">
                   <div className="flex justify-between"><span>INPUT:</span> <span>Mass Surveillance Data</span></div>
                   <div className="flex justify-between"><span>PROCESS:</span> <span>Pattern Recognition</span></div>
                   <div className="flex justify-between"><span>DETECT:</span> <span>Deviation from Norm</span></div>
                   <div className="flex justify-between text-red-400 font-bold"><span>OUTPUT:</span> <span>Preemptive Environmental Pressure</span></div>
                </div>
              </div>
            </div>
          </div>
        );

        const PersonnelContent = () => (
          <div className="space-y-8 animate-fade-in">
            {/* Thane Marus */}
            <div className="flex gap-6 items-start border border-slate-800 bg-slate-900 p-6">
              <div className="w-32 h-40 bg-slate-800 flex-shrink-0 flex items-center justify-center border border-slate-700">
                <IconUsers size={48} className="text-slate-600" />
              </div>
              <div className="flex-1">
                <h2 className="text-xl font-bold text-white uppercase tracking-widest mb-1">Thane Marus</h2>
                <div className="text-xs text-emerald-500 uppercase mb-4">Project Director (Newly Appointed)</div>
                
                <div className="grid grid-cols-2 gap-4 text-sm mb-4">
                  <div><span className="text-slate-500 block text-xs uppercase">Origin</span> Corulag</div>
                  <div><span className="text-slate-500 block text-xs uppercase">Service Length</span> 19 Years</div>
                  <div><span className="text-slate-500 block text-xs uppercase">Family Status</span> Married, 2 Children</div>
                  <div><span className="text-slate-500 block text-xs uppercase">Psych Profile</span> Analytical, Pragmatic</div>
                </div>
                
                <div className="text-sm text-slate-300 border-t border-slate-800 pt-3">
                  <strong className="text-white text-xs uppercase tracking-widest">Director Krask's Notes:</strong><br/>
                  Marus has demonstrated the intellectual flexibility required for this role. However, his "moral calculus" is a potential point of failure. His family is a critical leverage asset to ensure continued alignment.
                </div>
              </div>
            </div>

             {/* Kovel */}
             <div className="flex gap-6 items-start border border-slate-800 bg-slate-900 p-6 opacity-80">
              <div className="w-32 h-40 bg-slate-800 flex-shrink-0 flex items-center justify-center border border-slate-700">
                 <IconUsers size={48} className="text-slate-600" />
              </div>
              <div className="flex-1">
                <h2 className="text-xl font-bold text-white uppercase tracking-widest mb-1">Deputy Director Kovel</h2>
                <div className="text-xs text-slate-500 uppercase mb-4">Operations Planning (Formerly Marus's Role)</div>
                
                <p className="text-sm text-slate-300">
                  Assumed Marus's former portfolios including Expansion Region disruption and Bothawui surveillance. Transition complete.
                </p>
              </div>
            </div>

             {/* Krask */}
             <div className="flex gap-6 items-start border border-slate-800 bg-slate-900 p-6 opacity-75">
              <div className="w-32 h-40 bg-slate-800 flex-shrink-0 flex items-center justify-center border border-slate-700">
                 <IconUsers size={48} className="text-slate-600" />
              </div>
              <div className="flex-1">
                <h2 className="text-xl font-bold text-white uppercase tracking-widest mb-1">Valen Krask</h2>
                <div className="text-xs text-slate-500 uppercase mb-4">Director, Imperial Security Bureau</div>
                
                <p className="text-sm text-slate-400 italic mb-2">"The Physician"</p>
                <p className="text-sm text-slate-300">
                  The architect of the Panopticon initiative. Believes privacy is a luxury and order is the highest moral imperative. Operating from the 225th floor of the ISB Central Administrative Tower.
                </p>
              </div>
            </div>
          </div>
        );

        const LogsContent = () => (
          <div className="max-w-3xl mx-auto space-y-12 animate-fade-in font-mono">
            <div>
              <div className="text-xs text-slate-500 mb-2 border-b border-slate-800 pb-1">ENTRY: 4 ABY, 8 MONTHS POST-ENDOR</div>
              <p className="text-slate-300 leading-relaxed text-sm">
                "The Emperor's death revealed what many of us suspected: his personal authority was the primary adhesive binding the Empire. Without him, we have institutions, but no coherence. <br/><br/>
                Democracy failed because it optimizes for popularity, not effectiveness. The early Empire succeeded because the Emperor could make any decision. Now, we need a third option. Not personal authority, but <strong>systematic authority</strong>. We must build a machine that enforces order regardless of who sits on the throne."
              </p>
            </div>

            <div>
              <div className="text-xs text-slate-500 mb-2 border-b border-slate-800 pb-1">ENTRY: ON THE NATURE OF FREEDOM</div>
              <p className="text-slate-300 leading-relaxed text-sm">
                "Marus asked if we are building a prison. He misses the point. A person living in an orderly society where violence is minimized has more real freedom than someone in a chaotic society where they are theoretically free but practically endangered.<br/><br/>
                We are not destroying freedom. We are creating the <strong>infrastructure</strong> for it. The freedom to walk streets without fear requires the certainty that those who would cause fear have been preemptively neutralized."
              </p>
            </div>

            <div>
              <div className="text-xs text-slate-500 mb-2 border-b border-slate-800 pb-1">ENTRY: THE PHYSICIAN METAPHOR</div>
              <p className="text-slate-300 leading-relaxed text-sm">
                 "I think of myself as a doctor treating a sick society. Sometimes treatment is painful. Sometimes surgery requires cutting away infected tissue. The patient may scream, but the surgeon does not stop. He knows that the pain is the price of survival."
              </p>
            </div>
          </div>
        );

        const MainTerminal = () => {
          const [activeSection, setActiveSection] = React.useState(SECTIONS.DASHBOARD);
          const [loading, setLoading] = React.useState(true);

          React.useEffect(() => {
            setTimeout(() => setLoading(false), 2000);
          }, []);

          const NavItem = ({ section, icon: Icon, label }) => (
            <button 
              onClick={() => setActiveSection(section)}
              className={`w-full flex items-center gap-3 px-4 py-3 text-sm tracking-widest uppercase border-l-2 transition-all ${
                activeSection === section 
                ? 'border-red-500 bg-slate-800 text-white' 
                : 'border-transparent text-slate-400 hover:text-slate-200 hover:bg-slate-800/50'
              }`}
            >
              <Icon size={16} />
              {label}
            </button>
          );

          return (
            <div className="min-h-screen bg-slate-950 text-slate-200 font-mono flex flex-col md:flex-row overflow-hidden relative">
              <div className="crt-overlay absolute inset-0 z-50 pointer-events-none"></div>
              
              <div className="w-full md:w-64 bg-slate-900 border-r border-slate-800 flex-shrink-0 flex flex-col z-20">
                <div className="p-6 border-b border-slate-800">
                  <div className="flex items-center gap-2 mb-2">
                    <IconShield size={20} className="text-white" />
                    <span className="font-bold tracking-widest">ISB.NET</span>
                  </div>
                  <div className="text-[10px] text-slate-500">
                    SECURE TERMINAL<br/>
                    AUTH: KRASK.V<br/>
                    CLEARANCE: DIRECTORATE
                  </div>
                </div>
                
                <nav className="flex-1 py-4 space-y-1">
                  <NavItem section={SECTIONS.DASHBOARD} icon={IconActivity} label="Overview" />
                  <div className="px-4 py-2 mt-4 text-[10px] text-slate-600 uppercase tracking-wider font-bold">Project Panopticon</div>
                  <NavItem section={SECTIONS.PANOPTICON} icon={IconEye} label="Initiative Core" />
                  <NavItem section={SECTIONS.TARGET_SELECTION} icon={IconMap} label="Target Selection" />
                  <NavItem section={SECTIONS.ARCHITECTURE} icon={IconNetwork} label="System Arch" />
                  <NavItem section={SECTIONS.TARGET_HOK} icon={IconGlobe} label="Target: Hok" />
                  <NavItem section={SECTIONS.ALGORITHMS} icon={IconCpu} label="Behavioral AI" />
                  <div className="px-4 py-2 mt-4 text-[10px] text-slate-600 uppercase tracking-wider font-bold">Administration</div>
                  <NavItem section={SECTIONS.PERSONNEL} icon={IconUsers} label="Personnel" />
                  <NavItem section={SECTIONS.LOGS} icon={IconFileText} label="Private Logs" />
                </nav>

                <div className="p-4 border-t border-slate-800">
                  <div className="flex items-center gap-2 text-red-500 text-xs animate-pulse">
                    <IconRadio size={12} />
                    <span className="tracking-widest uppercase">Network Secure</span>
                  </div>
                </div>
              </div>

              <div className="flex-1 flex flex-col h-screen overflow-hidden bg-slate-950 relative">
                <header className="h-16 border-b border-slate-800 flex items-center justify-between px-8 bg-slate-950 z-10">
                  <div className="flex items-center gap-4">
                    <h2 className="text-lg tracking-[0.2em] uppercase font-bold text-white">
                      {activeSection.replace('_', ' ')}
                    </h2>
                    {loading && <span className="text-xs text-red-400 animate-pulse">Fetching Data...</span>}
                  </div>
                  <div className="flex items-center gap-6 text-xs text-slate-500 tracking-wider">
                    <span>SYS.VER 4.2.0</span>
                    <span className="text-emerald-500">ENCRYPTION: QUANTUM-7</span>
                    <span>{new Date().toLocaleTimeString()}</span>
                  </div>
                </header>

                <main className="flex-1 overflow-y-auto p-8 relative">
                   <div className="fixed inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:20px_20px] pointer-events-none z-0"></div>

                   <div className="relative z-10 max-w-5xl mx-auto">
                     {loading ? (
                        <div className="mt-20 space-y-4">
                          <div className="h-2 bg-slate-800 w-full overflow-hidden">
                            <div className="h-full bg-slate-600 animate-loading-bar"></div>
                          </div>
                          <div className="font-mono text-xs text-slate-500">DECRYPTING ARCHIVES...</div>
                        </div>
                     ) : (
                       <React.Fragment>
                         {activeSection === SECTIONS.DASHBOARD && <DashboardContent />}
                         {activeSection === SECTIONS.PANOPTICON && <PanopticonContent />}
                         {activeSection === SECTIONS.TARGET_SELECTION && <TargetSelectionContent />}
                         {activeSection === SECTIONS.ARCHITECTURE && <ArchitectureContent />}
                         {activeSection === SECTIONS.TARGET_HOK && <HokContent />}
                         {activeSection === SECTIONS.ALGORITHMS && <AlgorithmsContent />}
                         {activeSection === SECTIONS.PERSONNEL && <PersonnelContent />}
                         {activeSection === SECTIONS.LOGS && <LogsContent />}
                       </React.Fragment>
                     )}
                   </div>
                </main>
              </div>
            </div>
          );
        };

        const App = () => {
          const [authenticated, setAuthenticated] = React.useState(false);

          return (
            <React.Fragment>
              {authenticated ? (
                <MainTerminal />
              ) : (
                <LoginScreen onLogin={() => setAuthenticated(true)} />
              )}
            </React.Fragment>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
