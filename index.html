<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISB // CENTRAL // KRASK</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Fonts -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100;300;400;700&family=Share+Tech+Mono&family=Inter:wght@300;400;600;800&family=Orbitron:wght@400;700;900&display=swap');
        
        :root {
            --imperial-red: #b91c1c;
            --imperial-red-dim: #7f1d1d;
            --imperial-dark: #050505;
            --imperial-panel: #09090b;
            --text-main: #e4e4e7;
            --text-dim: #71717a;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #000;
            color: var(--text-main);
            overflow: hidden;
        }

        .font-mono { font-family: 'JetBrains Mono', monospace; }
        .font-tech { font-family: 'Share Tech Mono', monospace; }
        .font-display { font-family: 'Orbitron', sans-serif; }

        /* Background Grid */
        .grid-bg {
            background-size: 40px 40px;
            background-image:
                linear-gradient(to right, rgba(39, 39, 42, 0.1) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(39, 39, 42, 0.1) 1px, transparent 1px);
        }

        /* Animations */
        @keyframes cylinder-drop {
            0% { transform: translateY(-200%); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }
        .animate-cylinder { animation: cylinder-drop 0.8s cubic-bezier(0.23, 1, 0.32, 1) forwards; }

        @keyframes lock-turn {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(90deg); }
        }
        .animate-lock { animation: lock-turn 0.5s ease-in-out forwards 1s; }

        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
        .animate-blink { animation: blink 2s infinite; }

        @keyframes slide-in {
            from { transform: translateX(20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .animate-slide-in { animation: slide-in 0.4s ease-out forwards; }

        /* Custom Scrollbar */
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: #09090b; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #3f3f46; border-radius: 0px; }
        .custom-scroll::-webkit-scrollbar-thumb:hover { background: var(--imperial-red); }

        /* Tech Borders */
        .tech-border {
            position: relative;
        }
        .tech-border::before, .tech-border::after {
            content: '';
            position: absolute;
            width: 8px;
            height: 8px;
            transition: all 0.3s ease;
        }
        .tech-border::before { top: -1px; left: -1px; border-top: 1px solid #52525b; border-left: 1px solid #52525b; }
        .tech-border::after { bottom: -1px; right: -1px; border-bottom: 1px solid #52525b; border-right: 1px solid #52525b; }
        
        .tech-border:hover::before { border-color: var(--imperial-red); width: 100%; height: 100%; }
        .tech-border:hover::after { border-color: var(--imperial-red); width: 100%; height: 100%; }

        /* Glitch Effect for Login */
        .glitch-text:hover {
            animation: glitch 0.3s cubic-bezier(.25, .46, .45, .94) both infinite;
            color: var(--imperial-red);
        }
        @keyframes glitch {
            0% { transform: translate(0) }
            20% { transform: translate(-2px, 2px) }
            40% { transform: translate(-2px, -2px) }
            60% { transform: translate(2px, 2px) }
            80% { transform: translate(2px, -2px) }
            100% { transform: translate(0) }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- SVG ICONS ---
        const Icon = ({ name, size = 20, className = "" }) => {
            const icons = {
                Shield: <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>,
                Lock: <><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></>,
                Eye: <><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></>,
                FileText: <><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></>,
                Users: <><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></>,
                Activity: <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>,
                Globe: <><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></>,
                Terminal: <><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></>,
                LogOut: <><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></>,
                AlertTriangle: <><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></>,
                Cpu: <><rect x="4" y="4" width="16" height="16" rx="2" ry="2"/><rect x="9" y="9" width="6" height="6"/><line x1="9" y1="1" x2="9" y2="4"/><line x1="15" y1="1" x2="15" y2="4"/><line x1="9" y1="20" x2="9" y2="23"/><line x1="15" y1="20" x2="15" y2="23"/><line x1="20" y1="9" x2="23" y2="9"/><line x1="20" y1="14" x2="23" y2="14"/><line x1="1" y1="9" x2="4" y2="9"/><line x1="1" y1="14" x2="4" y2="14"/></>,
                Target: <><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></>,
                Briefcase: <><rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></>
            };

            return (
                <svg 
                    xmlns="http://www.w3.org/2000/svg" 
                    width={size} 
                    height={size} 
                    viewBox="0 0 24 24" 
                    fill="none" 
                    stroke="currentColor" 
                    strokeWidth="1.5" 
                    strokeLinecap="round" 
                    strokeLinejoin="round" 
                    className={className}
                >
                    {icons[name] || icons.Terminal}
                </svg>
            );
        };

        // --- DATA ---

        const FEED_DATA = [
            { id: "HOK-771", type: "BIO", msg: "Subject 99201 pulse elevated during anthem. Flagged.", risk: 82 },
            { id: "COR-442", type: "FIN", msg: "Irregular credit transfer detected: 400cr to unidentified shell.", risk: 45 },
            { id: "HOK-119", type: "VOC", msg: "Keyword detected in mess hall: 'Union'. Audio logged.", risk: 91 },
            { id: "OUT-882", type: "LOC", msg: "Unauthorized movement in Sector 4 restricted zone.", risk: 65 },
            { id: "SYS-001", type: "NET", msg: "Panopticon Node 4 online. Data stream synchronized.", risk: 0 },
            { id: "HOK-553", type: "SOC", msg: "Subject 8812 reduced social contact. Isolation protocol effective.", risk: 12 }
        ];

        const PROJECT_PHASES = [
            { id: "I", title: "AWARENESS", status: "ACTIVE", progress: 100, desc: "Total information gathering. Integration of financial, medical, and communication streams into unified profiles." },
            { id: "II", title: "PREDICTION", status: "ACTIVE", progress: 35, desc: "Algorithmic identification of deviation. Pre-crime intervention protocols enabled. 'We treat the illness before symptoms appear.'" },
            { id: "III", title: "CONDITIONING", status: "LOCKED", progress: 0, desc: "Systematic environmental modification. Reward/punishment integration at societal scale. Generalized caution." }
        ];

        // --- COMPONENTS ---

        const Typewriter = ({ text, speed = 20, delay = 0, className = "" }) => {
            const [display, setDisplay] = useState("");
            const [started, setStarted] = useState(false);

            useEffect(() => {
                const startTimeout = setTimeout(() => setStarted(true), delay);
                return () => clearTimeout(startTimeout);
            }, [delay]);

            useEffect(() => {
                if (!started) return;
                let i = 0;
                const timer = setInterval(() => {
                    if (i < text.length) {
                        setDisplay((prev) => prev + text.charAt(i));
                        i++;
                    } else {
                        clearInterval(timer);
                    }
                }, speed);
                return () => clearInterval(timer);
            }, [text, speed, started]);

            return <span className={className}>{display}</span>;
        };

        const Card = ({ title, children, className = "", alert = false, noPadding = false }) => (
            <div className={`bg-zinc-950 border ${alert ? 'border-red-900 shadow-[0_0_30px_rgba(185,28,28,0.15)]' : 'border-zinc-800'} tech-border transition-all duration-300 ${className}`}>
                {/* Header */}
                <div className={`px-5 py-3 border-b border-zinc-800 flex justify-between items-center ${alert ? 'bg-red-950/20' : 'bg-zinc-900/30'}`}>
                    <h3 className={`font-tech uppercase tracking-[0.2em] text-xs font-bold ${alert ? 'text-red-500' : 'text-zinc-500'}`}>{title}</h3>
                    <div className="flex gap-1">
                        <div className={`w-1 h-1 ${alert ? 'bg-red-500 animate-pulse' : 'bg-zinc-700'}`}></div>
                        <div className="w-1 h-1 bg-zinc-800"></div>
                        <div className="w-1 h-1 bg-zinc-800"></div>
                    </div>
                </div>
                {/* Content */}
                <div className={noPadding ? '' : 'p-6'}>
                    {children}
                </div>
            </div>
        );

        const ProgressBar = ({ value, color = "bg-red-600", label }) => (
            <div className="space-y-2">
                <div className="flex justify-between text-[10px] font-mono uppercase text-zinc-500">
                    <span>{label}</span>
                    <span>{value}%</span>
                </div>
                <div className="w-full h-1 bg-zinc-900 border border-zinc-800">
                    <div className={`h-full ${color} transition-all duration-1000`} style={{ width: `${value}%` }}></div>
                </div>
            </div>
        );

        const LineGraph = ({ data, color = "#b91c1c" }) => {
            // Simple SVG line graph generator
            const height = 60;
            const width = 200;
            const max = Math.max(...data);
            const points = data.map((d, i) => {
                const x = (i / (data.length - 1)) * width;
                const y = height - (d / max) * height;
                return `${x},${y}`;
            }).join(" ");

            return (
                <svg width="100%" height="100%" viewBox={`0 0 ${width} ${height}`} preserveAspectRatio="none" className="overflow-visible">
                    <polyline fill="none" stroke={color} strokeWidth="1.5" points={points} vectorEffect="non-scaling-stroke" />
                    {/* Area under curve */}
                    <polyline fill={color} fillOpacity="0.1" points={`0,${height} ${points} ${width},${height}`} stroke="none" />
                </svg>
            );
        };

        // --- SECTIONS ---

        const Dashboard = () => (
            <div className="space-y-6 animate-slide-in">
                <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    
                    {/* Main Status - Compliance */}
                    <div className="lg:col-span-2">
                        <Card title="Global Imperial Compliance Index" className="h-full">
                            <div className="flex flex-col h-full justify-between">
                                <div className="flex items-end gap-6 mb-8">
                                    <div className="text-7xl font-display font-black text-white tracking-tighter leading-none">
                                        <Typewriter text="89.4%" speed={30} />
                                    </div>
                                    <div className="pb-2 space-y-1">
                                        <div className="text-xs font-mono text-green-500 flex items-center gap-2">
                                            <span className="w-1.5 h-1.5 bg-green-500 rounded-full"></span>
                                            SYSTEMS NOMINAL
                                        </div>
                                        <div className="text-[10px] font-mono text-zinc-500 uppercase tracking-widest">Delta: +0.4% (Weekly)</div>
                                    </div>
                                </div>
                                
                                {/* Graph Container */}
                                <div className="h-32 w-full border-l border-b border-zinc-800 relative">
                                    <div className="absolute inset-0 p-2">
                                        <LineGraph data={[65, 68, 72, 75, 74, 78, 82, 85, 88, 89.4]} />
                                    </div>
                                    {/* Grid Lines */}
                                    <div className="absolute inset-0 grid grid-rows-4 pointer-events-none">
                                        <div className="border-t border-zinc-900/50 w-full"></div>
                                        <div className="border-t border-zinc-900/50 w-full"></div>
                                        <div className="border-t border-zinc-900/50 w-full"></div>
                                    </div>
                                </div>
                            </div>
                        </Card>
                    </div>

                    {/* Alerts */}
                    <div className="space-y-6">
                        <Card title="Threat Assessment" alert={true}>
                            <div className="flex flex-col items-center justify-center py-4 text-center space-y-4">
                                <Icon name="AlertTriangle" size={48} className="text-red-600 animate-blink" />
                                <div>
                                    <div className="text-2xl text-white font-display tracking-widest uppercase">CRITICAL</div>
                                    <div className="text-red-500/80 text-xs font-mono mt-1 border border-red-900/30 px-2 py-1 bg-red-950/10">SECTOR 7-G (HOK)</div>
                                </div>
                                <div className="w-full pt-4 border-t border-red-900/20">
                                    <div className="text-[10px] font-mono text-zinc-500 flex justify-between mb-1">
                                        <span>UNREST</span>
                                        <span className="text-red-500">92%</span>
                                    </div>
                                    <div className="w-full h-1 bg-zinc-900">
                                        <div className="h-full bg-red-600 w-[92%]"></div>
                                    </div>
                                </div>
                            </div>
                        </Card>
                        
                        <Card title="System Resource Allocation">
                            <div className="space-y-3 pt-1">
                                <ProgressBar value={78} label="Surveillance Grid" color="bg-zinc-400" />
                                <ProgressBar value={45} label="Data Processing" color="bg-zinc-500" />
                                <ProgressBar value={91} label="Hok Uplink" color="bg-red-600" />
                            </div>
                        </Card>
                    </div>
                </div>

                {/* Scrolling Intel */}
                <div className="w-full bg-zinc-950 border-y border-zinc-800 py-2 overflow-hidden relative">
                    <div className="absolute inset-0 bg-gradient-to-r from-black via-transparent to-black z-10 pointer-events-none"></div>
                    <div className="whitespace-nowrap animate-[marquee_30s_linear_infinite] text-xs font-mono text-zinc-500 uppercase tracking-widest flex gap-8">
                        <span>+++ PRIORITY ALERT: ENCRYPTED BURST TRANSMISSION DETECTED IN SECTOR 4 +++</span>
                        <span>+++ ISB DIRECTIVE 994: REPORTING SUSPICIOUS ACTIVITY IS MANDATORY +++</span>
                        <span>+++ PRIVACY IS A LUXURY THE EMPIRE CANNOT AFFORD +++</span>
                        <span>+++ GRAND MOFF KESSLER HAS DENIED REQUEST FOR ADDITIONAL GARRISON SUPPORT +++</span>
                        <span>+++ ORDER IS MERCY +++</span>
                    </div>
                </div>
            </div>
        );

        const Panopticon = () => (
            <div className="space-y-8 animate-slide-in">
                <div className="flex justify-between items-end border-b-2 border-red-900 pb-6">
                    <div>
                        <h2 className="text-4xl font-display font-black text-white tracking-wider uppercase mb-2">Project Panopticon</h2>
                        <div className="flex items-center gap-3">
                            <span className="bg-red-600 text-black text-xs font-bold px-2 py-0.5 font-mono">CAT-10 CLEARANCE</span>
                            <span className="text-red-500 font-mono text-xs tracking-widest uppercase">The Invisible Prison</span>
                        </div>
                    </div>
                    <div className="text-right hidden md:block">
                        <div className="text-[10px] font-mono text-zinc-500">BUDGET ALLOCATION</div>
                        <div className="text-xl font-mono text-white">10,000,000,000 CR</div>
                        <div className="text-[10px] font-mono text-zinc-600 uppercase">(Hidden via COMPNOR Discretionary)</div>
                    </div>
                </div>

                <div className="grid grid-cols-1 lg:grid-cols-12 gap-6">
                    {/* Phases Timeline */}
                    <div className="lg:col-span-8 space-y-4">
                        {PROJECT_PHASES.map((phase) => (
                            <div key={phase.id} className={`border p-6 flex flex-col md:flex-row gap-6 transition-all ${phase.status === 'ACTIVE' ? 'bg-zinc-900/20 border-red-900/50' : 'bg-zinc-950/50 border-zinc-800 opacity-60'}`}>
                                <div className="md:w-1/4">
                                    <div className="text-4xl font-display font-black text-zinc-800 absolute select-none pointer-events-none opacity-50 -mt-2">{phase.id}</div>
                                    <div className={`font-bold font-mono text-lg relative z-10 ${phase.status === 'ACTIVE' ? 'text-red-500' : 'text-zinc-500'}`}>{phase.title}</div>
                                    <div className="text-[10px] font-mono border border-zinc-800 inline-block px-2 mt-2">{phase.status}</div>
                                </div>
                                <div className="md:w-3/4 space-y-3">
                                    <p className="text-sm font-mono text-zinc-300 leading-relaxed whitespace-pre-wrap">{phase.desc}</p>
                                    {phase.status === 'ACTIVE' && <ProgressBar value={phase.progress} label="Implementation Status" />}
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* Live Feed */}
                    <div className="lg:col-span-4">
                        <Card title="Citizen Analysis Feed" className="h-full flex flex-col" noPadding={true}>
                            <div className="p-2 bg-zinc-900/50 border-b border-zinc-800 flex justify-between text-[10px] font-mono text-zinc-500 uppercase">
                                <span>ID</span>
                                <span>Trigger</span>
                                <span>Risk</span>
                            </div>
                            <div className="flex-1 overflow-y-auto custom-scroll h-[400px]">
                                {FEED_DATA.map((item, i) => (
                                    <div key={i} className="p-3 border-b border-zinc-800/50 hover:bg-zinc-900 transition-colors group">
                                        <div className="flex justify-between mb-1">
                                            <span className="font-mono text-xs text-zinc-300">{item.id}</span>
                                            <span className={`font-mono text-xs font-bold ${item.risk > 80 ? 'text-red-500' : item.risk > 50 ? 'text-yellow-500' : 'text-green-500'}`}>{item.risk}%</span>
                                        </div>
                                        <p className="text-[10px] font-mono text-zinc-500 group-hover:text-zinc-400 truncate">{item.msg}</p>
                                    </div>
                                ))}
                            </div>
                            <div className="p-2 border-t border-zinc-800 bg-zinc-900/30 text-[10px] font-mono text-zinc-600 text-center">
                                PROCESSING {Math.floor(Math.random() * 1000) + 18000} VECTORS / SEC
                            </div>
                        </Card>
                    </div>
                </div>

                {/* Philosophy */}
                <Card title="The Physician's Logic">
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <div className="text-xs font-mono uppercase text-zinc-500 mb-2">Core Doctrine</div>
                            <p className="text-sm font-mono text-zinc-300 leading-relaxed italic border-l-2 border-red-900 pl-4">
                                "We do not wait for the cancer to metastasize. We identify risk factors and intervene early. Detention is not punishment; it is treatment for a societal illness."
                            </p>
                        </div>
                        <div>
                            <div className="text-xs font-mono uppercase text-zinc-500 mb-2">The False Positive Strategic Value</div>
                            <p className="text-sm font-mono text-zinc-300 leading-relaxed border-l-2 border-zinc-700 pl-4">
                                "If only the guilty are punished, the innocent feel safe to deviate. Random or broad targeting creates generalized uncertainty. A population that polices itself out of fear of bureaucratic error is more stable than one that only fears justice."
                            </p>
                        </div>
                    </div>
                </Card>
            </div>
        );

        const TargetHok = () => (
            <div className="space-y-6 animate-slide-in">
                <div className="flex justify-between items-end border-b border-zinc-800 pb-4">
                    <div>
                        <h2 className="text-3xl font-display text-white tracking-[0.2em] uppercase">Target: Hok</h2>
                        <p className="text-zinc-500 font-mono text-xs tracking-widest mt-1">MID RIM // OVERSECTOR FOUR // 18.2M POPULATION</p>
                    </div>
                    <div className="text-right">
                        <div className="text-red-500 font-bold font-mono border border-red-500 px-2 py-1 text-xs">THREAT LEVEL: RISING</div>
                    </div>
                </div>

                <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div className="lg:col-span-1 space-y-6">
                        {/* Planet Viz */}
                        <div className="aspect-square bg-zinc-950 border border-zinc-800 flex items-center justify-center relative overflow-hidden group tech-border">
                            <div className="absolute inset-0 bg-[linear-gradient(rgba(50,50,50,0.1)_1px,transparent_1px),linear-gradient(90deg,rgba(50,50,50,0.1)_1px,transparent_1px)] bg-[size:20px_20px]"></div>
                            <div className="w-48 h-48 rounded-full bg-zinc-900 border border-zinc-700 relative shadow-[0_0_50px_rgba(255,255,255,0.02)] flex items-center justify-center">
                                <div className="w-48 h-48 rounded-full border-t border-zinc-600 absolute animate-[spin_10s_linear_infinite] opacity-20"></div>
                                <div className="w-40 h-40 rounded-full border-b border-red-900 absolute animate-[spin_15s_linear_infinite_reverse]"></div>
                                <div className="absolute top-1/3 left-1/4 w-2 h-2 bg-red-500 rounded-full animate-blink"></div>
                            </div>
                            <div className="absolute bottom-4 left-4 text-[10px] font-mono text-red-500 bg-black/80 px-2 border border-red-900">SECTOR 7-G ACTIVE</div>
                        </div>

                        <Card title="The Kessler Obstacle" alert={true}>
                            <div className="text-xs font-mono space-y-4">
                                <p className="text-zinc-400">Grand Moff Kessler advocates <span className="text-white">"Trust-Based Governance."</span> He blocked previous ISB expansion.</p>
                                <div className="p-3 border border-red-900/30 bg-red-950/10">
                                    <div className="uppercase text-[10px] text-red-500 mb-1">Strategy</div>
                                    <p className="text-zinc-300">Use rising labor unrest in his own sector to prove his philosophy creates chaos. Frame Panopticon as "Infrastructure Security Audit 994".</p>
                                </div>
                            </div>
                        </Card>
                    </div>

                    <div className="lg:col-span-2 space-y-6">
                        <Card title="Operational Intel">
                            <div className="prose prose-invert prose-sm font-mono max-w-none text-xs leading-relaxed text-zinc-400">
                                <p className="mb-4">
                                    <strong className="text-white block mb-1 uppercase tracking-wider border-b border-zinc-800 pb-1 w-fit">Sector 7-G (Mining)</strong>
                                    Labor unrest is spiking. Mining guilds are organizing shifts to hide unauthorized meetings. This is the perfect petri dish. We will allow the unrest to grow slightly to justify the surveillance grid, then crush it systematically in Phase II.
                                </p>
                                <p className="mb-4">
                                    <strong className="text-white block mb-1 uppercase tracking-wider border-b border-zinc-800 pb-1 w-fit">Resource Extraction</strong>
                                    Doonium and Tibanna reserves are critical for fleet maintenance. Disruption cannot exceed 15%. Current disruption: 8%.
                                </p>
                            </div>
                        </Card>
                        
                        <Card title="Surveillance Markers" noPadding={true}>
                             <div className="grid grid-cols-1 divide-y divide-zinc-800">
                                {[
                                    { target: "Mining Guild", status: "INFILTRATED", agents: "3 Active", risk: "HIGH" },
                                    { target: "University", status: "MONITORED", agents: "Audio Only", risk: "MED" },
                                    { target: "Spaceport", status: "LOCKED DOWN", agents: "Garrison", risk: "LOW" }
                                ].map((m, i) => (
                                    <div key={i} className="p-4 flex justify-between items-center text-xs font-mono hover:bg-zinc-900">
                                        <div className="flex items-center gap-4">
                                            <div className={`w-2 h-2 rounded-full ${m.risk === 'HIGH' ? 'bg-red-600' : m.risk === 'MED' ? 'bg-yellow-600' : 'bg-green-600'}`}></div>
                                            <span className="text-white font-bold">{m.target}</span>
                                        </div>
                                        <div className="flex gap-6">
                                            <span className="text-zinc-500">{m.agents}</span>
                                            <span className={`px-2 py-0.5 border ${m.status === 'INFILTRATED' ? 'border-green-900 text-green-500' : 'border-red-900 text-red-500'}`}>{m.status}</span>
                                        </div>
                                    </div>
                                ))}
                             </div>
                        </Card>
                    </div>
                </div>
            </div>
        );

        const Dossiers = () => (
            <div className="space-y-6 animate-slide-in">
                <h2 className="text-2xl font-display text-white tracking-[0.2em] uppercase border-b border-zinc-800 pb-4 mb-6">Personnel & Assets</h2>
                
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    {[
                        {
                            id: "ISB-DIR-III-MARUS", name: "Thane Marus", role: "Project Director", status: "DEPLOYED", loyalty: 94,
                            details: "42 years old. Pragmatic, intelligent, capable of 'necessary cruelty'. Family used as leverage point. Hesitant about consequences but obeys logic. Personally recruited for Panopticon.",
                            initial: "TM"
                        },
                        {
                            id: "GM-GARRIK-KESSLER", name: "Garrik Kessler", role: "Grand Moff", status: "SURVEILLANCE", loyalty: 40,
                            details: "Political adversary. Reformist. Unaware of Panopticon's full scope. Believes Marus is a safety inspector. Vulnerability: Pride in his 'peaceful' sector.",
                            initial: "GK"
                        }
                    ].map((person) => (
                        <Card key={person.id} className="hover:border-zinc-600 transition-colors" noPadding={true}>
                            <div className="p-6">
                                <div className="flex items-start gap-4 mb-6">
                                    <div className="w-16 h-16 bg-zinc-900 border border-zinc-800 flex items-center justify-center font-display text-2xl text-zinc-600">
                                        {person.initial}
                                    </div>
                                    <div className="flex-1">
                                        <div className="text-lg font-mono font-bold text-white">{person.name}</div>
                                        <div className="text-xs font-mono text-red-500 uppercase mb-2">{person.role}</div>
                                        <div className="text-[10px] font-mono text-zinc-500 bg-zinc-900/50 inline-block px-2 py-1">{person.id}</div>
                                    </div>
                                    <div className={`text-[10px] px-2 py-1 border ${person.status === 'DEPLOYED' ? 'border-green-900 text-green-500' : 'border-yellow-900 text-yellow-500'}`}>
                                        {person.status}
                                    </div>
                                </div>
                                
                                <div className="space-y-4">
                                    <div className="bg-black p-3 border border-zinc-800">
                                        <div className="text-[10px] text-zinc-500 uppercase mb-1">Psych Profile</div>
                                        <p className="text-xs font-mono text-zinc-400 leading-relaxed whitespace-pre-wrap">{person.details}</p>
                                    </div>
                                    <ProgressBar value={person.loyalty} label="Loyalty Index" color={person.loyalty > 80 ? "bg-green-600" : "bg-red-600"} />
                                </div>
                            </div>
                        </Card>
                    ))}
                </div>
            </div>
        );

        const Archives = () => (
            <div className="space-y-6 animate-slide-in">
                <div className="flex justify-between items-center border-b border-zinc-800 pb-4">
                    <h2 className="text-2xl font-display text-white tracking-[0.2em] uppercase">Private Archives</h2>
                    <Icon name="Lock" className="text-red-600" />
                </div>
                
                <div className="space-y-4">
                    {[
                        { date: "5 ABY - 05:47", title: "The Ivory Tower", text: "The city transitions from night to day. Coruscant never truly sleeps. Awareness gives me satisfaction. Not pleasure. Satisfaction. The systems work. My office is bare. Decoration implies leisure. I have no time for leisure." },
                        { date: "5 ABY - 19:30", title: "Marus Selection", text: "Marus accepted. He is not certain, which is good. Zealots make mistakes; pragmatists make progress. He asked about false positives. I told him they are a feature. If only the guilty are punished, the innocent feel safe to deviate." },
                        { date: "REF: 19 BBY", title: "The Mother Incident", text: "My mother. Lyssa. History teacher. She could not adapt to the New Order. I reviewed her file myself. I recommended her for 'ideological counseling'. Three months re-education. She never spoke to me again. I showed mercy. I chose the minimal intervention necessary. I am a surgeon." },
                        { date: "5 ABY - 21:15", title: "The Physician's Duty", text: "I do not hate the rebels. I pity them. They are children smashing the foundations of the house that shelters them. When it collapses, they will cry for someone to save them. And we will be there. Order is mercy. Chaos is cruelty." }
                    ].map((log, i) => (
                        <div key={i} className="border border-zinc-800 bg-zinc-950/50 p-6 hover:bg-zinc-900 transition-colors group tech-border">
                            <div className="flex justify-between items-start mb-2">
                                <h3 className="text-sm font-mono font-bold text-white group-hover:text-red-500 transition-colors uppercase">{log.title}</h3>
                                <span className="text-[10px] font-mono text-zinc-600">{log.date}</span>
                            </div>
                            <p className="text-xs font-mono text-zinc-400 leading-relaxed whitespace-pre-wrap pl-4 border-l border-zinc-800 group-hover:border-red-900 transition-colors">{log.text}</p>
                        </div>
                    ))}
                </div>
            </div>
        );

        // --- LOGIN SCREEN ---

        const LoginScreen = ({ onLogin }) => {
            const [step, setStep] = useState(0);

            const handleInsert = () => {
                if(step > 0) return;
                setStep(1); // Drop
                setTimeout(() => setStep(2), 1000); // Rotate
                setTimeout(() => setStep(3), 1600); // Verify
                setTimeout(() => {
                    setStep(4);
                    setTimeout(onLogin, 1500);
                }, 3500);
            };

            return (
                <div className="min-h-screen bg-black flex flex-col items-center justify-center relative">
                    <div className="grid-bg absolute inset-0 opacity-30 pointer-events-none"></div>
                    
                    <div className="relative z-10 flex flex-col items-center">
                        <div className="mb-16 text-center">
                            <h1 className="text-7xl font-display font-black text-white tracking-[0.2em] mb-2 opacity-90">ISB</h1>
                            <div className="text-[10px] font-mono text-zinc-600 tracking-[0.5em] uppercase">Central Administrative Node</div>
                        </div>

                        {/* Lock Mechanism */}
                        <div 
                            onClick={handleInsert}
                            className={`relative w-64 h-64 rounded-full border-4 ${step === 4 ? 'border-green-900 shadow-[0_0_50px_rgba(16,185,129,0.2)]' : 'border-zinc-800'} bg-zinc-950 flex items-center justify-center cursor-pointer hover:border-zinc-700 transition-all duration-500 group`}
                        >
                            {/* Inner Lock */}
                            <div className={`w-48 h-48 rounded-full border border-dashed border-zinc-700 flex items-center justify-center transition-transform duration-500 ${step === 2 ? 'rotate-90' : ''}`}>
                                {/* Lock Detailing */}
                                <div className="absolute w-full h-1 bg-zinc-900/0 group-hover:bg-zinc-900/50 top-1/2 -translate-y-1/2"></div>
                                <div className="absolute h-full w-1 bg-zinc-900/0 group-hover:bg-zinc-900/50 left-1/2 -translate-x-1/2"></div>
                                <div className={`w-32 h-32 rounded-full border border-zinc-800 flex items-center justify-center ${step === 3 ? 'bg-red-900/10 animate-pulse' : step === 4 ? 'bg-green-900/10' : 'bg-black'}`}>
                                    <div className="w-4 h-4 rounded-full bg-zinc-800"></div>
                                </div>
                            </div>

                            {/* Code Cylinder */}
                            <div className={`absolute top-0 w-10 h-40 bg-gradient-to-b from-zinc-400 to-zinc-600 rounded-b-md shadow-2xl z-20 transition-all duration-500 ${step >= 1 ? 'translate-y-0 opacity-100' : '-translate-y-48 opacity-0'}`}>
                                <div className="absolute top-4 w-full h-1 bg-red-600 shadow-[0_0_10px_red]"></div>
                                <div className="absolute bottom-4 w-full flex justify-center">
                                    <div className={`w-2 h-2 rounded-full ${step >= 3 ? 'bg-red-500 animate-blink' : 'bg-zinc-800'}`}></div>
                                </div>
                            </div>

                            {/* Status Text */}
                            <div className="absolute -bottom-20 text-center">
                                {step === 0 && <div className="text-xs font-mono text-zinc-500 tracking-widest animate-pulse">[ INSERT S-COMP ]</div>}
                                {step === 3 && <div className="text-xs font-mono text-red-500 tracking-widest">VERIFYING BIOMETRICS...</div>}
                                {step === 4 && <div className="text-xs font-mono text-green-500 tracking-widest">IDENTITY CONFIRMED</div>}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // --- APP SHELL ---

        const App = () => {
            const [auth, setAuth] = useState(false);
            const [booting, setBooting] = useState(false);
            const [tab, setTab] = useState('dashboard');

            const handleLogin = () => {
                setAuth(true);
                setBooting(true);
                setTimeout(() => setBooting(false), 2500);
            };

            if (!auth) return <LoginScreen onLogin={handleLogin} />;

            if (booting) return (
                <div className="min-h-screen bg-black p-12 font-mono text-sm text-red-600 flex flex-col justify-end">
                    <Typewriter text="> CONNECTING TO CENTRAL CORE..." speed={5} delay={0} className="block text-white" />
                    <Typewriter text="> DECRYPTING PANOPTICON VOLUMES..." speed={5} delay={400} className="block" />
                    <Typewriter text="> LOADING USER PROFILE: KRASK..." speed={5} delay={800} className="block" />
                    <Typewriter text="> ESTABLISHING UPLINK: HOK..." speed={5} delay={1200} className="block" />
                    <Typewriter text="> SYSTEM READY." speed={10} delay={1800} className="block text-white mt-4" />
                </div>
            );

            return (
                <div className="flex h-screen bg-black">
                    {/* Sidebar */}
                    <aside className="w-72 bg-zinc-950 border-r border-zinc-800 hidden md:flex flex-col relative z-20">
                        <div className="p-8 border-b border-zinc-800">
                            <div className="flex items-center gap-4 text-white mb-2">
                                <Icon name="Shield" size={32} className="text-red-600" />
                                <div>
                                    <div className="font-display font-black text-2xl tracking-widest leading-none">ISB</div>
                                    <div className="font-mono text-[10px] text-zinc-500 tracking-[0.4em]">CENTRAL</div>
                                </div>
                            </div>
                        </div>
                        
                        <nav className="flex-1 py-6 space-y-1">
                            {[
                                { id: 'dashboard', label: 'Command Deck', icon: 'Terminal' },
                                { id: 'panopticon', label: 'Project Panopticon', icon: 'Eye' },
                                { id: 'hok', label: 'Target: Hok', icon: 'Globe' },
                                { id: 'dossiers', label: 'Personnel', icon: 'Users' },
                                { id: 'archives', label: 'Archives', icon: 'FileText' },
                            ].map(item => (
                                <button 
                                    key={item.id}
                                    onClick={() => setTab(item.id)}
                                    className={`w-full flex items-center gap-4 px-8 py-4 text-xs font-mono uppercase tracking-wider border-l-2 transition-all duration-200 ${
                                        tab === item.id 
                                        ? 'border-red-600 bg-zinc-900 text-white' 
                                        : 'border-transparent text-zinc-500 hover:text-zinc-300 hover:bg-zinc-900/30'
                                    }`}
                                >
                                    <Icon name={item.icon} size={16} className={tab === item.id ? "text-red-500" : ""} />
                                    {item.label}
                                </button>
                            ))}
                        </nav>

                        <div className="p-6 border-t border-zinc-800">
                            <div className="flex items-center gap-3 mb-4">
                                <div className="w-8 h-8 bg-zinc-900 border border-zinc-700 flex items-center justify-center">
                                    <div className="w-1.5 h-1.5 bg-green-600 rounded-full animate-pulse"></div>
                                </div>
                                <div>
                                    <div className="text-white font-mono text-xs font-bold">DIR. KRASK</div>
                                    <div className="text-[10px] text-zinc-600 font-mono">ID: ISB-ALPHA</div>
                                </div>
                            </div>
                            <button onClick={() => setAuth(false)} className="w-full border border-zinc-800 text-[10px] font-mono text-zinc-500 hover:text-red-500 hover:border-red-900 py-2 transition-colors uppercase tracking-widest">
                                Eject Cylinder
                            </button>
                        </div>
                    </aside>

                    {/* Main Content */}
                    <main className="flex-1 flex flex-col relative overflow-hidden bg-black">
                        <div className="grid-bg absolute inset-0 opacity-20 pointer-events-none"></div>
                        
                        {/* Top Bar */}
                        <header className="h-16 border-b border-zinc-800 flex items-center justify-between px-8 bg-zinc-950/80 backdrop-blur-sm z-10">
                            <div className="font-mono text-xs text-red-600 tracking-[0.2em] flex items-center gap-3">
                                <div className="w-1.5 h-1.5 bg-red-600 animate-pulse"></div>
                                SECURE UPLINK ESTABLISHED
                            </div>
                            <div className="hidden md:flex gap-8 text-[10px] font-mono text-zinc-600 uppercase">
                                <span>Encryption: AES-ROT-256</span>
                                <span>Bandwidth: 94%</span>
                                <span>Node: Coruscant-Prime</span>
                            </div>
                        </header>

                        {/* Content Area */}
                        <div className="flex-1 overflow-y-auto p-8 md:p-12 custom-scroll">
                            <div className="max-w-7xl mx-auto">
                                {tab === 'dashboard' && <Dashboard />}
                                {tab === 'panopticon' && <Panopticon />}
                                {tab === 'hok' && <TargetHok />}
                                {tab === 'dossiers' && <Dossiers />}
                                {tab === 'archives' && <Archives />}
                            </div>
                        </div>
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
